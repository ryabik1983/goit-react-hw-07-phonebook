(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{12:function(t,e,n){t.exports={list:"ContactList_list__2lQi_",item:"ContactList_item__3aB4u",btn:"ContactList_btn__2n7U9",span:"ContactList_span__3D89n"}},17:function(t,e,n){t.exports={label:"Filter_label__1HTHL",input:"Filter_input__33bIl"}},57:function(t,e,n){},59:function(t,e,n){},60:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"filterContacts",(function(){return j}));var a={};n.r(a),n.d(a,"getContacts",(function(){return m}));var c={};n.r(c),n.d(c,"fetchContacts",(function(){return A})),n.d(c,"addContact",(function(){return T})),n.d(c,"deleteContact",(function(){return z}));var u=n(0),s=n.n(u),i=n(15),o=n.n(i),l=n(6),b=n(5),f=n(2),p=n(30),d=n(7),j=Object(b.b)("filter"),m=function(t){return t.contacts.entities},O=n(8),h=n(4),v=n.n(h),x=n(11),_=n.n(x);function C(){return y.apply(this,arguments)}function y(){return(y=Object(O.a)(v.a.mark((function t(){var e,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.get("/contacts/contacts");case 2:return e=t.sent,n=e.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return w.apply(this,arguments)}function w(){return(w=Object(O.a)(v.a.mark((function t(e){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.post("/contacts/contacts",e);case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(t){return k.apply(this,arguments)}function k(){return(k=Object(O.a)(v.a.mark((function t(e){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.delete("/contacts/contacts/".concat(e));case 2:return n=t.sent,r=n.data.id,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}_.a.defaults.baseURL="https://61efe336732d93001778e67c.mockapi.io";var L,F,S,A=Object(b.c)("fetchContactsSuccess",function(){var t=Object(O.a)(v.a.mark((function t(e,n){var r,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,C();case 4:return a=t.sent,t.abrupt("return",a);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),T=Object(b.c)("contacts/addContact",function(){var t=Object(O.a)(v.a.mark((function t(e,n){var r,a,c,u,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.name,a=e.number,c=n.rejectWithValue,t.prev=2,u={name:r,phone:a},t.next=6,g(u);case 6:return s=t.sent,t.abrupt("return",s);case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",c(t.t0));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n){return t.apply(this,arguments)}}()),z=Object(b.c)("contacts/deleteContact",function(){var t=Object(O.a)(v.a.mark((function t(e,n){var r,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,N(e);case 4:return a=t.sent,t.abrupt("return",a);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),D=Object(b.d)([],(L={},Object(f.a)(L,A.fulfilled,(function(t,e){return e.payload})),Object(f.a)(L,T.fulfilled,(function(t,e){var n=e.payload;return[].concat(Object(p.a)(t),[n])})),Object(f.a)(L,z.fulfilled,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),L)),I=Object(b.d)(!1,(F={},Object(f.a)(F,A.pending,(function(){return!0})),Object(f.a)(F,A.fulfilled,(function(){return!1})),Object(f.a)(F,A.rejected,(function(){return!1})),Object(f.a)(F,T.pending,(function(){return!0})),Object(f.a)(F,T.fulfilled,(function(){return!1})),Object(f.a)(F,T.rejected,(function(){return!1})),Object(f.a)(F,z.pending,(function(){return!0})),Object(f.a)(F,z.fulfilled,(function(){return!1})),Object(f.a)(F,z.rejected,(function(){return!1})),F)),J=Object(b.d)(null,(S={},Object(f.a)(S,A.rejected,(function(t,e){return e.payload})),Object(f.a)(S,A.pending,(function(){return null})),Object(f.a)(S,T.rejected,(function(t,e){return e.payload})),Object(f.a)(S,T.fulfilled,(function(){return null})),Object(f.a)(S,z.rejected,(function(t,e){return e.payload})),Object(f.a)(S,z.fulfilled,(function(){return null})),S)),B=Object(b.d)("",Object(f.a)({},r.filterContacts,(function(t,e){return e.payload}))),H=Object(d.b)({entities:D,isLoading:I,error:J,filter:B}),V=Object(b.a)({reducer:{contacts:H}}),W=(n(57),n(20)),Z=n(9),q=n.n(Z),E=n(1),M=function(t){var e=t.onSubmit,n=Object(u.useState)(""),r=Object(W.a)(n,2),a=r[0],c=r[1],s=Object(u.useState)(""),i=Object(W.a)(s,2),o=i[0],l=i[1],b=function(t){"name"===t.currentTarget.name&&c(t.currentTarget.value),"number"===t.currentTarget.name&&l(t.currentTarget.value)};return Object(E.jsxs)("form",{className:q.a.contact_form,onSubmit:function(t){t.preventDefault(),e({name:a,number:o}),c(""),l("")},children:[Object(E.jsxs)("label",{className:q.a.label,children:["Name",Object(E.jsx)("input",{className:q.a.input,type:"text",name:"name",onChange:b,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",placeholder:"Ivan Dulin",required:!0,value:a})]}),Object(E.jsxs)("label",{className:q.a.label,children:["Number",Object(E.jsx)("input",{className:q.a.input,type:"tel",name:"number",onChange:b,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",placeholder:"067-233-15-14",required:!0,value:o})]}),Object(E.jsx)("button",{className:q.a.submit,type:"submit",children:"Add contact"})]})},P=n(17),Q=n.n(P),U=function(){var t=Object(l.c)((function(t){return t.contacts.filter})),e=Object(l.b)();return Object(E.jsx)("div",{className:Q.a.filter,children:Object(E.jsxs)("label",{className:Q.a.label,children:["Find contacts by name",Object(E.jsx)("input",{className:Q.a.input,type:"text",value:t,onChange:function(t){e(r.filterContacts(t.target.value))}})]})})},K=n(12),R=n.n(K),$=function(){var t=Object(l.b)(),e=Object(l.c)(a.getContacts);Object(u.useEffect)((function(){return t(c.fetchContacts())}),[t]);var n=Object(l.c)((function(t){var n=t.contacts.filter.toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(n)}))}));return Object(E.jsx)("ul",{className:R.a.list,children:n.map((function(e){return Object(E.jsxs)("li",{className:R.a.item,children:[Object(E.jsxs)("span",{className:R.a.span,children:[e.name,": ",e.phone]}),Object(E.jsx)("button",{className:R.a.btn,type:"button",id:e.id,onClick:function(){t(c.deleteContact(e.id))},children:"Delete"})]},e.id)}))})};n(59);function G(){var t=Object(l.b)();return Object(E.jsxs)("main",{className:"main",children:[Object(E.jsx)("h1",{className:"title",children:"Phonebook"}),Object(E.jsx)(M,{onSubmit:function(e,n){return t(c.addContact(e,n))}}),Object(E.jsx)("h2",{className:"title",children:"Contacts"}),Object(E.jsx)(U,{}),Object(E.jsx)($,{})]})}o.a.render(Object(E.jsx)(s.a.StrictMode,{children:Object(E.jsx)(l.a,{store:V,children:Object(E.jsx)(G,{})})}),document.getElementById("root"))},9:function(t,e,n){t.exports={contact_form:"ContactForm_contact_form__gHIr3",label:"ContactForm_label__1S0d_",input:"ContactForm_input__35QKm",submit:"ContactForm_submit__3J8e5"}}},[[60,1,2]]]);
//# sourceMappingURL=main.715bdeaf.chunk.js.map